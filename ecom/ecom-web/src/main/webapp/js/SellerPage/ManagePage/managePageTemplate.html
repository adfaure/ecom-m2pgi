<div data-ng-controller="managePageController">
    <div data-ng-if="!modeView">
        <form class="css-form" name="managePage" novalidate ng-submit="managePage.$valid && submit()">

            <div class="form-group">
                <label for="pagetitle" class="reqField">Titre de la page</label>
                <input required ng-model="page.title" type="text" class="form-control" id="pagetitle" name="pagetitle" placeholder="{{page.title}}" required focus-on-load>
                <div class="alert-danger" ng-messages="managePage.pagetitle.$error" role="alert" ng-show="managePage.pagetitle.$dirty">
					<div ng-messages-include="error-messages"></div>
				</div>
            </div>
            <div class="form-group">
                <label for="pagecontent" class="reqField">Contenue</label>
                <textarea required ng-model="page.content"  class="form-control" rows="5" id="pagecontent" name="pagecontent" placeholder="{{page.content}}" ></textarea>
                <div class="alert-danger" ng-messages="managePage.pagecontent.$error" role="alert" ng-show="managePage.pagecontent.$dirty">
					<div ng-messages-include="error-messages"></div>
				</div>
            </div>

            <button type="submit" class="btn btn-default" ng-disabled="managePage.$invalid">Submit</button>

        </form>
    </div>

    <span type="btn" data-ng-if="modeView" data-ng-click="toogleMode()" class="btn btn-default">Modifier la page</span>
    <!--FIXME same code a ./js/SellerPage/Page/PageTemplate.html -->
    <div class="row">
        <div class="bs-callout-info bs-callout panel col-md-12">
            <div class="row">
                <div class="col-md-12">
                    <h1> {{ page.title }} </h1>
                    <p>
                        {{ page.content }}
                    </p>
                </div>
            </div>
            <div ng-show="query">
              La recherche a retourné <strong>{{ photos.length }}</strong> photo(s) !
            <br></div>
            <div class="panel row" ng-repeat="photo in photos track by $index" ng-if="$index % 4 == 0">
                <div class="col-xs-6 col-md-3"
                     ng-repeat="i in [$index, $index + 1, $index + 2, $index + 3]"
                     ng-if="photos[i] != null">
                    <a href="" data-ng-click="details(photos[i].photoID)" class="thumbnail">
                        <img ng-src="{{photos[i].thumbnail}}" alt="{{photos[i].name}}">
                    </a>
                </div>
            </div>
        </div>
    </div>

</div>
